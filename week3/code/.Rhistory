load("~/CMEECourseWork/week3/code/MyResults.Rout")
rm(list=ls())
setwd("/home/frcovell/CMEECourseWork/week3/code")
require(ggplot2)
require("ggthemes")
require(plyr)
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
x <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)))
lm_test <- summary(lm(lm(x$`insectivorous.larva / juvenile`$Predator.mass ~ x$`insectivorous.larva / juvenile`$Prey.mass)))
p <- plot(x$`insectivorous.larva / juvenile`$Predator.mass, x$`insectivorous.larva / juvenile`$Prey.mass)
abline(lm(x$`insectivorous.larva / juvenile`$Predator.mass ~ x$`insectivorous.larva / juvenile`$Prey.mass))
linmod <- function(MyDF){
lm(MyDF$Predator.mass ~ MyDF$Prey.mass )
}
models <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
#extract coefficients
test<-ldply(models,  coef)
test
View(models)
View(test)
View(lm_test)
# and theme to Tufte's minimal ink theme
x <- split(log(MyDF$Predator.mass), f = MyDF$Type.of.feeding.interaction)
y <- split(log(MyDF$Prey.mass), f = MyDF$Type.of.feeding.interaction)
plot(x = y$insectivorous, y = x$insectivorous)
x <- split(log(MyDF$Predator.mass), f = MyDF$Type.of.feeding.interaction)
y <- split(log(MyDF$Prey.mass), f = MyDF$Type.of.feeding.interaction)
x
x <- split(MyDF$Predator.mass, f = MyDF$Type.of.feeding.interaction)
y <- split(MyDF$Prey.mass, f = MyDF$Type.of.feeding.interaction)
plot(x = y$insectivorous)
x <- split(log10(MyDF$Predator.mass), f = MyDF$Type.of.feeding.interaction)
y <- split(log10(MyDF$Prey.mass), f = MyDF$Type.of.feeding.interaction)
plot(x = y$insectivorous)
#extract coefficients
test<-ldply(models,  r.squared)
lm_test[["coefficients"]]
models[["insectivorous.larva / juvenile"]][["coefficients"]]
models[["insectivorous.larva / juvenile"]]
linmod1 <- function(MyDF){
summary(lm(MyDF$Predator.mass ~ MyDF$Prey.mass ))
}
models1 <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
View(models1)
View(lm_test)
lmModels
linmod1 <- function(MyDF){
summary(lm(MyDF$Predator.mass ~ MyDF$Prey.mass ))
}
models1 <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod1)
View(models1)
linmod <- function(MyDF){
summarylm(MyDF$Predator.mass ~ MyDF$Prey.mass )
}
models <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
View(models)
linmod <- function(MyDF){
summarylm(MyDF$Predator.mass ~ MyDF$Prey.mass )
}
linmod <- function(MyDF){
summary(lm(MyDF$Predator.mass ~ MyDF$Prey.mass ))
}
models <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
View(models)
rm(list=ls())
getwd()
setwd("/home/frcovell/CMEECourseWork/week3/code")
require(ggplot2)
require("ggthemes")
require(plyr)
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
linmod <- function(MyDF){
summary(lm(MyDF$Predator.mass ~ MyDF$Prey.mass ))
}
models <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
#extract coefficients
test<-ldply(models,  r.squared)
#extract coefficients
test<-ldply(models, coef)
View(test)
test
rm(list=ls())
setwd("/home/frcovell/CMEECourseWork/week3/code")
load("../data/GPDDFiltered.RData")
require(maps)
map()
map(wrap = c(0,360), fill = TRUE, col = 2) # pacific-centered map of the world
map(wrap = c(0, 360, NA), fill = TRUE, col = 2) # idem, without Antarctica
map("state", xlim = range(gpdd$lat), ylim = range(gpdd$long))
rm(list=ls())
getwd()
setwd("/home/frcovell/CMEECourseWork/week3/code")
require(ggplot2)
require("ggthemes")
require(plyr)
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
linmod <- function(MyDF){
summary(lm(MyDF$Predator.mass ~ MyDF$Prey.mass ))
}
models <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
#extract coefficients
test<-ldply(models, coef)
test
#graph
library(ggthemes)
p <- ggplot(MyDF, aes(x = log(Predator.mass), y = log(Prey.mass),
colour = Type.of.feeding.interaction )) +
geom_point(size=I(2), shape=I(10)) + theme_bw()
p + geom_rangeframe() + # now fine tune the geom to Tufte's range frame
theme_tufte() # and theme to Tufte's minimal ink theme
View(models)
MyDF$Predator.mass
View(MyDF)
convert <- if (MyDF$Prey.mass.unit == mg) {
MyDF$Prey.mass * 1000
}
convert <- if (MyDF$Prey.mass.unit == 'mg') {
MyDF$Prey.mass * 1000
}
if (MyDF$Prey.mass.unit == 'mg') {
convert <- MyDF$Prey.mass * 1000
}
which(MyDF$Prey.mass.unit == mg)
which(MyDF$Prey.mass.unit == 'mg')
for (x in which(MyDF$Prey.mass.unit == 'mg')) {
convert <- MyDF$Prey.mass * 1000
}
convert
View(MyDF)
MyDF$Prey.mass[285]
MyDF$Prey.mass[285]*1000
for (x in which(MyDF$Prey.mass.unit == 'mg')) {
convert <- (MyDF$Prey.mass * 1000)
}
convert
for (x in which(MyDF$Prey.mass.unit == 'mg')) {
MyDF$Prey.mass <- (MyDF$Prey.mass * 1000)
}
for (x in which(MyDF$Prey.mass.unit == 'mg')) {
MyDF$Prey.mass <- (MyDF$Prey.mass * 1000)
}
y <- split(log(MyDF$Predator.mass), f = MyDF$Type.of.feeding.interaction)
x <- split(log(MyDF$Prey.mass), f = MyDF$Type.of.feeding.interaction)
plot(x$insectivorous,y$insectivorous)
x$insectivorous
y <- split(log(MyDF$Predator.mass), f = MyDF$Type.of.feeding.interaction)
x <- split(log(MyDF$Prey.mass), f = MyDF$Type.of.feeding.interaction)
x
y
MyDF$Prey.mass
rm(list=ls())
getwd()
setwd("/home/frcovell/CMEECourseWork/week3/code")
require(ggplot2)
require("ggthemes")
require(plyr)
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
linmod <- function(MyDF){
summary(lm(MyDF$Predator.mass ~ MyDF$Prey.mass ))
}
models <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
#extract coefficients
test<-ldply(models, coef)
test
#graph
library(ggthemes)
for (x in which(MyDF$Prey.mass.unit == 'mg')) {
MyDF$Prey.mass <- (MyDF$Prey.mass * 1000)
}
MyDF$Prey.mass
rm(list=ls())
getwd()
setwd("/home/frcovell/CMEECourseWork/week3/code")
require(ggplot2)
require("ggthemes")
require(plyr)
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
linmod <- function(MyDF){
summary(lm(MyDF$Predator.mass ~ MyDF$Prey.mass ))
}
models <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
#extract coefficients
test<-ldply(models, coef)
test
for (x in which(MyDF$Prey.mass.unit == 'mg')) {
MyDF$Prey.mass[x] <- (MyDF$Prey.mass * 1000)
}
MyDF$Prey.mass
y <- split(log(MyDF$Predator.mass), f = MyDF$Type.of.feeding.interaction)
x <- split(log(MyDF$Prey.mass), f = MyDF$Type.of.feeding.interaction)
plot(x$insectivorous,y$insectivorous)
p <- ggplot(aes(x=x$insectivorous, y=y$insectivorous)) + geom_point()
print(p)
p <- ggplot(df=MyDF) + geom_point(aes(x=x$insectivorous, y=y$insectivorous))
print(p)
with(coef, plot(`(Intercept)`, year))
x <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)))
View(x)
x <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, prey.mass)))
x <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Prey.mass)))
x
View(x)
x <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction)))
rm(list=ls())
getwd()
setwd("/home/frcovell/CMEECourseWork/week3/code")
require(ggplot2)
require("ggthemes")
require(plyr)
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
linmod <- function(MyDF){
summary(lm(MyDF$Predator.mass ~ MyDF$Prey.mass ))
}
models <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction, Predator.lifestage)), linmod)
#extract coefficients
test<-ldply(models, coef)
test
for (x in which(MyDF$Prey.mass.unit == 'mg')) {
MyDF$Prey.mass[x] <- (MyDF$Prey.mass * 1000)
}
x <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction)))
View(x)
x[["insectivorous"]][["Prey.mass"]]
x$insectivorous
x <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction)))
y <- dlply(MyDF, as.quoted(.(Type.of.feeding.interaction)))
View(x)
p <- ggplot(df=MyDF) + geom_point(aes(x=x[["insectivorou"]][["Predator.mass"]], y=x[["insectivorou"]][["Prey.mass"]]))
print(p)
x[["insectivorou"]][["Predator.mass"]]
View(x)
p <- ggplot(df=MyDF) + geom_point(aes(x=x[["insectivorous"]][["Predator.mass"]], y=x[["insectivorous"]][["Prey.mass"]]))
print(p)
print(p)
test
